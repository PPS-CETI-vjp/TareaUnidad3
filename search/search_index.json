{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Indice de Tarea de Unidad 3 de Puesta en Producci\u00f3n Segura Enunciado de la tarea Apartado 1: Creaci\u00f3n del entorno de Pruebas.","title":"Home"},{"location":"EnunciadoTarea/","text":"Actividad obligatoria Unidad 3 - Tarea RA3. Detecci\u00f3n y correcci\u00f3n de vulnerabilidades de aplicaciones web \u00cdndice Objetivos Resultados de aprendizaje y Criterios de Evaluaci\u00f3n Desarrollo Entrega Objetivos Comprender los principios del desarrollo seguro de aplicaciones web y su integraci\u00f3n en el ciclo de vida del software. Identificar y analizar las principales vulnerabilidades recogidas en el OWASP Top Ten y su impacto sobre la seguridad de los sistemas. Aplicar t\u00e9cnicas de validaci\u00f3n y sanitizaci\u00f3n de entradas en formularios para prevenir ataques de inyecci\u00f3n. Conocer y emplear est\u00e1ndares actuales de autenticaci\u00f3n y autorizaci\u00f3n (como OAuth2, OpenID Connect y SAML). Detectar y prevenir ataques de robo o secuestro de sesi\u00f3n mediante mecanismos de protecci\u00f3n de cookies y tokens. Implementar buenas pr\u00e1cticas en el almacenamiento seguro de contrase\u00f1as usando algoritmos de hash y salting adecuados. Evaluar y aplicar contramedidas avanzadas como HSTS, CSP y CAPTCHAs para mitigar vulnerabilidades comunes. Analizar vulnerabilidades web reales y proponer estrategias de mitigaci\u00f3n basadas en herramientas y auditor\u00edas. Conocer el funcionamiento y los beneficios de los Web Application Firewalls (WAF) en la protecci\u00f3n de portales y aplicaciones. Resultados de aprendizaje y Criterios de Evaluaci\u00f3n Esta actividad se relaciona con el resultado de aprendizaje y criterios de evaluaci\u00f3n RA 3 a, b, c, d, e, f y g. Desarrollo Lee la tarea hasta el final para ver lo que tienes que entregar e ir cogiendo las evidencias y ver lo que tienes que documentar. Clonar repositorio de la tarea. Utilizaremos GitHub Classroom para la entrega de esta actividad. Usa el siguiente c\u00f3digo de invitaci\u00f3n para la tarea en GitHub Classroom : https://classroom.github.com/a/d4fLsmeV y acepta la invitaci\u00f3n: Puedes acceder a la tarea desde el enlace de github o clonando el repositorio desde Visual Studio Code . Si le das a Acceder con Visual Studio Code, tendr\u00e1s que dar a permitir abrir, enlaces, descargar extensiones para vscode, confiar en los autores,etc. Se crear\u00e1 tu repositorio en $HOME/Github-classroom/ . Si le das al repositorio, te llevar\u00e1 a tu repositorio. Te habr\u00e1 creado un repositorio en tu espacio personal que tendr\u00e1s que modificar. Desde mi panel de control tendr\u00e9 acceso a tu repositorio, o sea que ya no tendr\u00e1s que poner tu repositorio como p\u00fablico, yo como profesor tendr\u00e9 acceso. Apartado 1 - Actividad: Creaci\u00f3n del entorno de Pruebas. Crea el entorno de pruebas indicado en la actividad . Crea un archivo en MarkDown con nombre Creaci\u00f3nEntornoPrueba.md donde brev\u00e9mente , expliques c\u00f3mo has creado el entorno de pruebas e incorpore capturas de pantalla donde se pueda ver la que se ha creado correctamente. Apartado 2 - Vulnerabilidades de inyecci\u00f3n de datos de entrada. Realiza alguna de las actividades que tienen que ver con vulnerabilidades de inyecci\u00f3n de c\u00f3digo o de otros tipos vulnerabilidades de entrada . Crea un documento en Markdown con nombre ActividadVulnerabilidadesDatosEntrada.md donde pegar\u00e1s las capturas de pantalla que evidencien la realizaci\u00f3n de: Estado inicial y vulnerabilidad. Soluci\u00f3n o mitigaci\u00f3n 1 implementeada,(no es necesario poner todos los pasos). Soluci\u00f3n o mitigaci\u00f3n 2 implementeada. ... Incorpora tambien un par de lineas para cada soluci\u00f3n implementada, indicando qu\u00e9 medidas hemos tomado para securizar o mitigar los ataques. Apartado 3 - Actividad de Autenticaci\u00f3n, vulnerabilidades de gesti\u00f3n de sesiones, protecci\u00f3n de datos sensibles o Control de acceso. Realiza alguna de las actividades que tienen que ver con vulnerabilidades que tienen que ver con Autenticaci\u00f3n y vulnerabilidades de gesti\u00f3n de sesiones o de Protecci\u00f3n de datos sensibles y Control de acceso . Crea un documento en Markdown con nombre ActividadAutenticacion.md donde pegar\u00e1s las capturas de pantalla que evidencien la realizaci\u00f3n de: Estado inicial y vulnerabilidad. Soluci\u00f3n o mitigaci\u00f3n 1 implementeada,(no es necesario poner todos los pasos). Soluci\u00f3n o mitigaci\u00f3n 2 implementeada. ... Incorpora tambien un par de lineas para cada soluci\u00f3n implementada, indicando qu\u00e9 medidas hemos tomado para securizar o mitigar los ataques. Apartado 4 - Actividad sobre errores en la Seguridad y componentes vulnerables. Realiza alguna de las actividades que tienen que ver con vulnerabilidades que tienen que ver con errores en la seguridad y componentes vulnerables . Crea un documento en Markdown con nombre ActividadSeguridad donde pegar\u00e1s las capturas de pantalla que evidencien la realizaci\u00f3n de: Estado inicial y vulnerabilidad. Soluci\u00f3n o mitigaci\u00f3n 1 implementeada,(no es necesario poner todos los pasos). Soluci\u00f3n o mitigaci\u00f3n 2 implementeada. ... Incorpora tambien un par de lineas para cada soluci\u00f3n implementada, indicando qu\u00e9 medidas hemos tomado para securizar o mitigar los ataques. Apartado 5 - Escaneo est\u00e1tico y din\u00e1mico de una aplicaci\u00f3n web. En el repositorio tienes en una aplicaci\u00f3n spring java con nombre store_app . Deber\u00e1s descomprimirla y todas las operaciones indicadas en adelante se realizar\u00e1n sobre la carpeta de la aplicaci\u00f3n store-app Estas son las diferentes operaciones a realizar en este apartado: 1. Realiza sobre ella un An\u00e1lisis Est\u00e1tico de C\u00f3digo (SAST) con la herramienta SonarQube . 1. Crea un contenedor docker donde se ejecute la aplicaci\u00f3n para poder realizar el escaneo de seguridad din\u00e1mico. 1. Realiza un An\u00e1lisis de Seguridad con una herramienta DAST (Nessus o OwASP ZAP) 1. Realiza una tabla con algunos de los problemas encontrados en los an\u00e1lisis Vamos desgranando los pasos. Presta especial atenci\u00f3n al apartado 5-2 donde se v\u00e9 la compilaci\u00f3n y creaci\u00f3n del contenedor con Docker. Apartado 5 - 1. Escaneo est\u00e1tico. Consulta en la actividad de la unidad 3 c\u00f3mo realizar un an\u00e1lisis est\u00e1tico de c\u00f3digo utilizando la aplicaci\u00f3n SonarQube como servidor de an\u00e1lisis. Realiza el an\u00e1lisis est\u00e1tico de c\u00f3digo para ver las debilidades y vulnerabilidades presentes. Recuerda que la informaci\u00f3n de vulnerabilidades obtenida tendr\u00e1s que utilizarla para realizar la tabla final. Apartado 5 - 2. Ejecuci\u00f3n de la aplicaci\u00f3n. Aqu\u00ed tienes las indicaciones para realizarlo sobre la MV de Kali Linux que estamos utilizando para las actividades. Crearemos un contenedor docker para levantar la aplicaci\u00f3n. Para ejecutar la aplicaci\u00f3n, al ser una aplicaci\u00f3n en Java, tenemos que compilarla primero para generar los archivos bytecode que son los que se ejecutaran en la MV de Java. Nuestra aplicaci\u00f3n esta desarrollada en Spring Java por lo que utiliza java 11. Por ello tenemos que compilarla en esa versi\u00f3n de java. Vamos a ejecutar la aplicaci\u00f3n en un contenedor docker en el cual crearemos una m\u00e1quina java personalizada en la cual vamos a compilar mientras creamos dicha imagen. Tambi\u00e9n podr\u00edamos hacer todo el proceso sobre un SO, instalado java 11 en \u00e9l y posteriormente instalando y compilando con Maven . En nuestro caso con Docker, utilizamos un Dockerfile que recordamos que es un archivo en el cual especificamos las caracter\u00edsticas de la m\u00e1quina y las operaciones que hay que hacer al crearla, en este caso sera: - Compilar con Maven el proyecto. store-app/Dockerfile # ===== Etapa 1: Build con Maven + JDK 8 ===== FROM maven:3.8.7-eclipse-temurin-11 AS build WORKDIR /app # Copiamos pom y fuentes COPY pom.xml . COPY src ./src # Compilar JAR (packaging Spring Boot) RUN mvn clean package -DskipTests # ===== Etapa 2: Runtime con JRE 8 ===== FROM eclipse-temurin-11-jre WORKDIR /app # Copiamos el JAR generado desde la etapa de build COPY --from=build /app/target/*.jar app.jar # Puerto de tu app (seg\u00fan application.properties) EXPOSE 8888 # Vol\u00famenes para Derby y logs (ajusta rutas si hace falta) VOLUME [\"/app/work\", \"/app/work/logs\"] ENTRYPOINT [\"java\", \"-jar\", \"app.jar\"] Para crear el contenedor usamos Docker compose : docker-compose.yml services: store-app: build: . container_name: store-app ports: - \"8888:8888\" Como vemos se utiliza el puerto 8888 para exponer la aplicaci\u00f3n. Una vez hemos colocado estos dos archivos en la carpeta del proyecto store-app : # Nos situamos en el directorio de la aplicaci\u00f3n cd ruta/a/carpeta/store-app # 1. Crear directorio para datos persistentes mkdir -p data # 3. Levantar docker compose up --build # Para producci\u00f3n: docker compose up -d Esperamos a que se descargen las im\u00e1genes y se construya la nuestra personalizada (compilandose el c\u00f3digo) y despues de unos minutos ya acceder\u00edamos a nuestra aplicaci\u00f3n por el puerto 8888: Apartado 5 - 3. An\u00e1lisis de seguridad con DAST. Una vez levantantada la aplicaci\u00f3n en el puerto 8888 ya estamos en disposici\u00f3n de poder escanearla con cualquiera de las aplicaciones DAST disponibles. En nuestro caso, en las actividades, hemos visto como pod\u00edamos comprobar la seguridad de las aplicaciones con Nessus y con OWASP ZAP. En este archivo tienes el docker-compose.yml de todo el escenario completo: store-app + SonarQube + Nessus Configurado . Lo \u00fanico que tienes que hacer es sustituir este docker-compose.yml por el anterior y levantar el escenario docker compose up --build Tendr\u00e1s acceso a las tres aplicaciones: store-app en http://localhost:8888 , SonarQube en http://localhost:9000 y Nessus en https://localhost:8834 . Recuerda que las credenciales de SonarQube son usuario:admin passwd: admin y las de Nessus usuario:usuario passwd:usuario. Apartado 5 - 4. An\u00e1lisis de los problemas encontrados. Con los resultados del an\u00e1lisis est\u00e1tico y din\u00e1mico realiza una tabla con al menos 5 problemas en los que indicar\u00e1s: - Vulnerabilidad Nombre/breve descripci\u00f3n de la vulnerabilidad - CWE C\u00f3digo CWE y nombre - Consecuencias Qu\u00e9 riesgos puede provocar la vulnerabilidad - Localizaci\u00f3n Archivos de la aplicaci\u00f3n a los que afecta - Exploit(s) Como se \u201cataca\u201d la aplicaci\u00f3n - Soluci\u00f3n Modificaciones que podemos realizar en la aplicaci\u00f3n para resolver la vulnerabilidad - Otra informaci\u00f3n Lo que consideres necesario para aclarar la vulnerabilidad Entrega Indicaciones de entrega Al acceder a la tarea en classroom.github.com se te ha creado un repositorio. En \u00e9l es en el que tendr\u00e1s que documentar la realizaci\u00f3n de los diferentes apartados de la tarea. Observa que al ser repositorio privado, por lo que no te va a permitir configurar GitHub Pages . No obstante deber\u00e1s configurar Mkdocs para que genere las p\u00e1ginas html sobre los archivos .md donde est\u00e1s documentando todo. Recuerda a\u00f1adir toda la estructura de mkdocs , requeriments.txt y el workflow de GitHub Actions para que se genere la documentaci\u00f3n en la rama GH-Pages . Para visualizar los archivos html que se est\u00e1n creando con mkdocs , con php podemos crear un servidor web para visualizar los archivos creados: php -S 0:8080 nos muestra el contenido web del directorio actual, por lo que si yo estoy en la rama gh-pages podr\u00e9 ver los archivos html generados. # creo una carpeta donde visualizar mi web mkdir /ruta/a/carpeta/web # descargo la rama gh-pages de mi respositorio git clone Mirespositorio/MiTareaUnidad3.git # Me coloco en la carpeta clonada cd MiTareaUnidad3 # Me cambio a la rama gh-pages git checkout gh-pages # Levantamos el servidor web con php php -S 0:8080 Visualizar\u00edamos el contenido web de nuestro respositorio en http://localhost:8080 Una vez realizada la tarea, el env\u00edo se realizar\u00e1 a trav\u00e9s de la plataforma. Deber\u00e1s de entregar al menos: El repositorio que has creado, comprimido en un archivo. El enlace a tu repositorio en la p\u00e1gina de github.com . Revisa que has a\u00f1adido como colaborador en tu repositorio de GitHub al profesor: PPSvjp Settings > Collaborators . La documentaci\u00f3n generada en el la rama gh-pages del repositorio debe de contener al menos: - Archivo Index.md con enlace al resto de secciones. Las siguientes secciones : Apartado 1: Creaci\u00f3n del entorno de Pruebas. : donde figure la documentaci\u00f3n realizada en el apartado 1 . Apartado 2 - Actividad de vulnerabilidades de inyecci\u00f3n de datos de entrada : donde figure la documentaci\u00f3n realizada en el apartado 2 . Apartado 3 - Apartado 3 - Actividad de Autenticaci\u00f3n, vulnerabilidades de gesti\u00f3n de sesiones, protecci\u00f3n de datos sensibles o Control de acceso : donde figure la documentaci\u00f3n realizada en el apartado 3 . Apartado 4 - Actividad sobre errores en la Seguridad y componentes vulnerables : donde figure la documentaci\u00f3n realizada en el apartado 4 . Apartado 5 - Escaneo est\u00e1tico y din\u00e1mico de aplicaci\u00f3n web : donde figure la documentaci\u00f3n realizada en el apartado 5 . El archivo comprimido se nombrar\u00e1 siguiendo las siguientes pautas: PPS-Unidad3-TareaRA3-Apellido1_Apellido2_Nombre Aseg\u00farate que el nombre no contenga la letra \u00f1, tildes ni caracteres especiales extra\u00f1os. As\u00ed por ejemplo la alumna Bego\u00f1a S\u00e1nchez Ma\u00f1as para la primera unidad del MP de PPS, deber\u00eda nombrar esta tarea como... PPS-Unidad3-TareaRA3-sanchez_manas_begona Calificaci\u00f3n de la tarea La puntuaci\u00f3n de los apartados es la siguiente: Si no se adjunta el repositorio comprimido, no se indica la documentaci\u00f3n del repositorio en github.com o no se a\u00f1ade como colaborador en el repositorio al profesor , la tarea ser\u00e1 calificada como 0 NOTA IMPORTANTE Aquellos apartados/subapartados en los que las capturas de pantalla no sean claras o no tengan como fondo de pantalla la plataforma con tu usuario mostrando claramente la foto de tu perfil, no ser\u00e1n corregidos. En el resto de los casos, la puntuaci\u00f3n de los apartados es la siguiente: Apartado 1 - Actividad: Creaci\u00f3n del entorno de Pruebas. Con un m\u00e1ximo de 1 punto. Apartado 2 - Actividad Vulnerabilidad de datos de entrada. Con un m\u00e1ximo de 1 punto. Apartado 3 - Actividad de Autenticaci\u00f3n, Gesti\u00f3n de sesiones o Control de acceso. Con un m\u00e1ximo de 1 punto. Apartado 4 - Actividad sobre Errores en la Seguridad o componentes vulnerables. Con un m\u00e1ximo de 1 punto. Apartado 5 - An\u00e1lisis est\u00e1tico y din\u00e1mico de aplicaci\u00f3n web. Con un m\u00e1ximo de 4 puntos. Documentaci\u00f3n : presentaci\u00f3n, extensi\u00f3n, exactitud, riqueza en s\u00edntaxis de MarkDown, etc de la documentaci\u00f3n del repostorio. Con un m\u00e1ximo de 2 puntos. Para superar la tarea habr\u00e1 que conseguir una puntuaci\u00f3n igual o superior a 5.","title":"Enunciado"},{"location":"EnunciadoTarea/#actividad-obligatoria-unidad-3-tarea-ra3-deteccion-y-correccion-de-vulnerabilidades-de-aplicaciones-web","text":"\u00cdndice Objetivos Resultados de aprendizaje y Criterios de Evaluaci\u00f3n Desarrollo Entrega","title":"Actividad obligatoria Unidad 3 - Tarea RA3. Detecci\u00f3n y correcci\u00f3n de vulnerabilidades de aplicaciones web"},{"location":"EnunciadoTarea/#objetivos","text":"Comprender los principios del desarrollo seguro de aplicaciones web y su integraci\u00f3n en el ciclo de vida del software. Identificar y analizar las principales vulnerabilidades recogidas en el OWASP Top Ten y su impacto sobre la seguridad de los sistemas. Aplicar t\u00e9cnicas de validaci\u00f3n y sanitizaci\u00f3n de entradas en formularios para prevenir ataques de inyecci\u00f3n. Conocer y emplear est\u00e1ndares actuales de autenticaci\u00f3n y autorizaci\u00f3n (como OAuth2, OpenID Connect y SAML). Detectar y prevenir ataques de robo o secuestro de sesi\u00f3n mediante mecanismos de protecci\u00f3n de cookies y tokens. Implementar buenas pr\u00e1cticas en el almacenamiento seguro de contrase\u00f1as usando algoritmos de hash y salting adecuados. Evaluar y aplicar contramedidas avanzadas como HSTS, CSP y CAPTCHAs para mitigar vulnerabilidades comunes. Analizar vulnerabilidades web reales y proponer estrategias de mitigaci\u00f3n basadas en herramientas y auditor\u00edas. Conocer el funcionamiento y los beneficios de los Web Application Firewalls (WAF) en la protecci\u00f3n de portales y aplicaciones.","title":"Objetivos"},{"location":"EnunciadoTarea/#resultados-de-aprendizaje-y-criterios-de-evaluacion","text":"Esta actividad se relaciona con el resultado de aprendizaje y criterios de evaluaci\u00f3n RA 3 a, b, c, d, e, f y g.","title":"Resultados de aprendizaje y Criterios de Evaluaci\u00f3n"},{"location":"EnunciadoTarea/#desarrollo","text":"Lee la tarea hasta el final para ver lo que tienes que entregar e ir cogiendo las evidencias y ver lo que tienes que documentar.","title":"Desarrollo"},{"location":"EnunciadoTarea/#clonar-repositorio-de-la-tarea","text":"Utilizaremos GitHub Classroom para la entrega de esta actividad. Usa el siguiente c\u00f3digo de invitaci\u00f3n para la tarea en GitHub Classroom : https://classroom.github.com/a/d4fLsmeV y acepta la invitaci\u00f3n: Puedes acceder a la tarea desde el enlace de github o clonando el repositorio desde Visual Studio Code . Si le das a Acceder con Visual Studio Code, tendr\u00e1s que dar a permitir abrir, enlaces, descargar extensiones para vscode, confiar en los autores,etc. Se crear\u00e1 tu repositorio en $HOME/Github-classroom/ . Si le das al repositorio, te llevar\u00e1 a tu repositorio. Te habr\u00e1 creado un repositorio en tu espacio personal que tendr\u00e1s que modificar. Desde mi panel de control tendr\u00e9 acceso a tu repositorio, o sea que ya no tendr\u00e1s que poner tu repositorio como p\u00fablico, yo como profesor tendr\u00e9 acceso.","title":"Clonar repositorio de la tarea."},{"location":"EnunciadoTarea/#apartado-1-actividad-creacion-del-entorno-de-pruebas","text":"Crea el entorno de pruebas indicado en la actividad . Crea un archivo en MarkDown con nombre Creaci\u00f3nEntornoPrueba.md donde brev\u00e9mente , expliques c\u00f3mo has creado el entorno de pruebas e incorpore capturas de pantalla donde se pueda ver la que se ha creado correctamente.","title":"Apartado 1 - Actividad: Creaci\u00f3n del entorno de Pruebas."},{"location":"EnunciadoTarea/#apartado-2-vulnerabilidades-de-inyeccion-de-datos-de-entrada","text":"Realiza alguna de las actividades que tienen que ver con vulnerabilidades de inyecci\u00f3n de c\u00f3digo o de otros tipos vulnerabilidades de entrada . Crea un documento en Markdown con nombre ActividadVulnerabilidadesDatosEntrada.md donde pegar\u00e1s las capturas de pantalla que evidencien la realizaci\u00f3n de: Estado inicial y vulnerabilidad. Soluci\u00f3n o mitigaci\u00f3n 1 implementeada,(no es necesario poner todos los pasos). Soluci\u00f3n o mitigaci\u00f3n 2 implementeada. ... Incorpora tambien un par de lineas para cada soluci\u00f3n implementada, indicando qu\u00e9 medidas hemos tomado para securizar o mitigar los ataques.","title":"Apartado 2 - Vulnerabilidades de inyecci\u00f3n de datos de entrada."},{"location":"EnunciadoTarea/#apartado-3-actividad-de-autenticacion-vulnerabilidades-de-gestion-de-sesiones-proteccion-de-datos-sensibles-o-control-de-acceso","text":"Realiza alguna de las actividades que tienen que ver con vulnerabilidades que tienen que ver con Autenticaci\u00f3n y vulnerabilidades de gesti\u00f3n de sesiones o de Protecci\u00f3n de datos sensibles y Control de acceso . Crea un documento en Markdown con nombre ActividadAutenticacion.md donde pegar\u00e1s las capturas de pantalla que evidencien la realizaci\u00f3n de: Estado inicial y vulnerabilidad. Soluci\u00f3n o mitigaci\u00f3n 1 implementeada,(no es necesario poner todos los pasos). Soluci\u00f3n o mitigaci\u00f3n 2 implementeada. ... Incorpora tambien un par de lineas para cada soluci\u00f3n implementada, indicando qu\u00e9 medidas hemos tomado para securizar o mitigar los ataques.","title":"Apartado 3 - Actividad de Autenticaci\u00f3n, vulnerabilidades de gesti\u00f3n de sesiones, protecci\u00f3n de datos sensibles o Control de acceso."},{"location":"EnunciadoTarea/#apartado-4-actividad-sobre-errores-en-la-seguridad-y-componentes-vulnerables","text":"Realiza alguna de las actividades que tienen que ver con vulnerabilidades que tienen que ver con errores en la seguridad y componentes vulnerables . Crea un documento en Markdown con nombre ActividadSeguridad donde pegar\u00e1s las capturas de pantalla que evidencien la realizaci\u00f3n de: Estado inicial y vulnerabilidad. Soluci\u00f3n o mitigaci\u00f3n 1 implementeada,(no es necesario poner todos los pasos). Soluci\u00f3n o mitigaci\u00f3n 2 implementeada. ... Incorpora tambien un par de lineas para cada soluci\u00f3n implementada, indicando qu\u00e9 medidas hemos tomado para securizar o mitigar los ataques.","title":"Apartado 4 - Actividad sobre errores en la Seguridad y componentes vulnerables."},{"location":"EnunciadoTarea/#apartado-5-escaneo-estatico-y-dinamico-de-una-aplicacion-web","text":"En el repositorio tienes en una aplicaci\u00f3n spring java con nombre store_app . Deber\u00e1s descomprimirla y todas las operaciones indicadas en adelante se realizar\u00e1n sobre la carpeta de la aplicaci\u00f3n store-app Estas son las diferentes operaciones a realizar en este apartado: 1. Realiza sobre ella un An\u00e1lisis Est\u00e1tico de C\u00f3digo (SAST) con la herramienta SonarQube . 1. Crea un contenedor docker donde se ejecute la aplicaci\u00f3n para poder realizar el escaneo de seguridad din\u00e1mico. 1. Realiza un An\u00e1lisis de Seguridad con una herramienta DAST (Nessus o OwASP ZAP) 1. Realiza una tabla con algunos de los problemas encontrados en los an\u00e1lisis Vamos desgranando los pasos. Presta especial atenci\u00f3n al apartado 5-2 donde se v\u00e9 la compilaci\u00f3n y creaci\u00f3n del contenedor con Docker.","title":"Apartado 5 - Escaneo est\u00e1tico y din\u00e1mico de una aplicaci\u00f3n web."},{"location":"EnunciadoTarea/#apartado-5-1-escaneo-estatico","text":"Consulta en la actividad de la unidad 3 c\u00f3mo realizar un an\u00e1lisis est\u00e1tico de c\u00f3digo utilizando la aplicaci\u00f3n SonarQube como servidor de an\u00e1lisis. Realiza el an\u00e1lisis est\u00e1tico de c\u00f3digo para ver las debilidades y vulnerabilidades presentes. Recuerda que la informaci\u00f3n de vulnerabilidades obtenida tendr\u00e1s que utilizarla para realizar la tabla final.","title":"Apartado 5 - 1. Escaneo est\u00e1tico."},{"location":"EnunciadoTarea/#apartado-5-2-ejecucion-de-la-aplicacion","text":"Aqu\u00ed tienes las indicaciones para realizarlo sobre la MV de Kali Linux que estamos utilizando para las actividades. Crearemos un contenedor docker para levantar la aplicaci\u00f3n. Para ejecutar la aplicaci\u00f3n, al ser una aplicaci\u00f3n en Java, tenemos que compilarla primero para generar los archivos bytecode que son los que se ejecutaran en la MV de Java. Nuestra aplicaci\u00f3n esta desarrollada en Spring Java por lo que utiliza java 11. Por ello tenemos que compilarla en esa versi\u00f3n de java. Vamos a ejecutar la aplicaci\u00f3n en un contenedor docker en el cual crearemos una m\u00e1quina java personalizada en la cual vamos a compilar mientras creamos dicha imagen. Tambi\u00e9n podr\u00edamos hacer todo el proceso sobre un SO, instalado java 11 en \u00e9l y posteriormente instalando y compilando con Maven . En nuestro caso con Docker, utilizamos un Dockerfile que recordamos que es un archivo en el cual especificamos las caracter\u00edsticas de la m\u00e1quina y las operaciones que hay que hacer al crearla, en este caso sera: - Compilar con Maven el proyecto. store-app/Dockerfile # ===== Etapa 1: Build con Maven + JDK 8 ===== FROM maven:3.8.7-eclipse-temurin-11 AS build WORKDIR /app # Copiamos pom y fuentes COPY pom.xml . COPY src ./src # Compilar JAR (packaging Spring Boot) RUN mvn clean package -DskipTests # ===== Etapa 2: Runtime con JRE 8 ===== FROM eclipse-temurin-11-jre WORKDIR /app # Copiamos el JAR generado desde la etapa de build COPY --from=build /app/target/*.jar app.jar # Puerto de tu app (seg\u00fan application.properties) EXPOSE 8888 # Vol\u00famenes para Derby y logs (ajusta rutas si hace falta) VOLUME [\"/app/work\", \"/app/work/logs\"] ENTRYPOINT [\"java\", \"-jar\", \"app.jar\"] Para crear el contenedor usamos Docker compose : docker-compose.yml services: store-app: build: . container_name: store-app ports: - \"8888:8888\" Como vemos se utiliza el puerto 8888 para exponer la aplicaci\u00f3n. Una vez hemos colocado estos dos archivos en la carpeta del proyecto store-app : # Nos situamos en el directorio de la aplicaci\u00f3n cd ruta/a/carpeta/store-app # 1. Crear directorio para datos persistentes mkdir -p data # 3. Levantar docker compose up --build # Para producci\u00f3n: docker compose up -d Esperamos a que se descargen las im\u00e1genes y se construya la nuestra personalizada (compilandose el c\u00f3digo) y despues de unos minutos ya acceder\u00edamos a nuestra aplicaci\u00f3n por el puerto 8888:","title":"Apartado 5 - 2. Ejecuci\u00f3n de la aplicaci\u00f3n."},{"location":"EnunciadoTarea/#apartado-5-3-analisis-de-seguridad-con-dast","text":"Una vez levantantada la aplicaci\u00f3n en el puerto 8888 ya estamos en disposici\u00f3n de poder escanearla con cualquiera de las aplicaciones DAST disponibles. En nuestro caso, en las actividades, hemos visto como pod\u00edamos comprobar la seguridad de las aplicaciones con Nessus y con OWASP ZAP. En este archivo tienes el docker-compose.yml de todo el escenario completo: store-app + SonarQube + Nessus Configurado . Lo \u00fanico que tienes que hacer es sustituir este docker-compose.yml por el anterior y levantar el escenario docker compose up --build Tendr\u00e1s acceso a las tres aplicaciones: store-app en http://localhost:8888 , SonarQube en http://localhost:9000 y Nessus en https://localhost:8834 . Recuerda que las credenciales de SonarQube son usuario:admin passwd: admin y las de Nessus usuario:usuario passwd:usuario.","title":"Apartado 5 - 3. An\u00e1lisis de seguridad con DAST."},{"location":"EnunciadoTarea/#apartado-5-4-analisis-de-los-problemas-encontrados","text":"Con los resultados del an\u00e1lisis est\u00e1tico y din\u00e1mico realiza una tabla con al menos 5 problemas en los que indicar\u00e1s: - Vulnerabilidad Nombre/breve descripci\u00f3n de la vulnerabilidad - CWE C\u00f3digo CWE y nombre - Consecuencias Qu\u00e9 riesgos puede provocar la vulnerabilidad - Localizaci\u00f3n Archivos de la aplicaci\u00f3n a los que afecta - Exploit(s) Como se \u201cataca\u201d la aplicaci\u00f3n - Soluci\u00f3n Modificaciones que podemos realizar en la aplicaci\u00f3n para resolver la vulnerabilidad - Otra informaci\u00f3n Lo que consideres necesario para aclarar la vulnerabilidad","title":"Apartado 5 - 4. An\u00e1lisis de los problemas encontrados."},{"location":"EnunciadoTarea/#entrega","text":"","title":"Entrega"},{"location":"EnunciadoTarea/#indicaciones-de-entrega","text":"Al acceder a la tarea en classroom.github.com se te ha creado un repositorio. En \u00e9l es en el que tendr\u00e1s que documentar la realizaci\u00f3n de los diferentes apartados de la tarea. Observa que al ser repositorio privado, por lo que no te va a permitir configurar GitHub Pages . No obstante deber\u00e1s configurar Mkdocs para que genere las p\u00e1ginas html sobre los archivos .md donde est\u00e1s documentando todo. Recuerda a\u00f1adir toda la estructura de mkdocs , requeriments.txt y el workflow de GitHub Actions para que se genere la documentaci\u00f3n en la rama GH-Pages . Para visualizar los archivos html que se est\u00e1n creando con mkdocs , con php podemos crear un servidor web para visualizar los archivos creados: php -S 0:8080 nos muestra el contenido web del directorio actual, por lo que si yo estoy en la rama gh-pages podr\u00e9 ver los archivos html generados. # creo una carpeta donde visualizar mi web mkdir /ruta/a/carpeta/web # descargo la rama gh-pages de mi respositorio git clone Mirespositorio/MiTareaUnidad3.git # Me coloco en la carpeta clonada cd MiTareaUnidad3 # Me cambio a la rama gh-pages git checkout gh-pages # Levantamos el servidor web con php php -S 0:8080 Visualizar\u00edamos el contenido web de nuestro respositorio en http://localhost:8080 Una vez realizada la tarea, el env\u00edo se realizar\u00e1 a trav\u00e9s de la plataforma. Deber\u00e1s de entregar al menos: El repositorio que has creado, comprimido en un archivo. El enlace a tu repositorio en la p\u00e1gina de github.com . Revisa que has a\u00f1adido como colaborador en tu repositorio de GitHub al profesor: PPSvjp Settings > Collaborators . La documentaci\u00f3n generada en el la rama gh-pages del repositorio debe de contener al menos: - Archivo Index.md con enlace al resto de secciones. Las siguientes secciones : Apartado 1: Creaci\u00f3n del entorno de Pruebas. : donde figure la documentaci\u00f3n realizada en el apartado 1 . Apartado 2 - Actividad de vulnerabilidades de inyecci\u00f3n de datos de entrada : donde figure la documentaci\u00f3n realizada en el apartado 2 . Apartado 3 - Apartado 3 - Actividad de Autenticaci\u00f3n, vulnerabilidades de gesti\u00f3n de sesiones, protecci\u00f3n de datos sensibles o Control de acceso : donde figure la documentaci\u00f3n realizada en el apartado 3 . Apartado 4 - Actividad sobre errores en la Seguridad y componentes vulnerables : donde figure la documentaci\u00f3n realizada en el apartado 4 . Apartado 5 - Escaneo est\u00e1tico y din\u00e1mico de aplicaci\u00f3n web : donde figure la documentaci\u00f3n realizada en el apartado 5 . El archivo comprimido se nombrar\u00e1 siguiendo las siguientes pautas: PPS-Unidad3-TareaRA3-Apellido1_Apellido2_Nombre Aseg\u00farate que el nombre no contenga la letra \u00f1, tildes ni caracteres especiales extra\u00f1os. As\u00ed por ejemplo la alumna Bego\u00f1a S\u00e1nchez Ma\u00f1as para la primera unidad del MP de PPS, deber\u00eda nombrar esta tarea como... PPS-Unidad3-TareaRA3-sanchez_manas_begona","title":"Indicaciones de entrega"},{"location":"EnunciadoTarea/#calificacion-de-la-tarea","text":"La puntuaci\u00f3n de los apartados es la siguiente: Si no se adjunta el repositorio comprimido, no se indica la documentaci\u00f3n del repositorio en github.com o no se a\u00f1ade como colaborador en el repositorio al profesor , la tarea ser\u00e1 calificada como 0 NOTA IMPORTANTE Aquellos apartados/subapartados en los que las capturas de pantalla no sean claras o no tengan como fondo de pantalla la plataforma con tu usuario mostrando claramente la foto de tu perfil, no ser\u00e1n corregidos. En el resto de los casos, la puntuaci\u00f3n de los apartados es la siguiente: Apartado 1 - Actividad: Creaci\u00f3n del entorno de Pruebas. Con un m\u00e1ximo de 1 punto. Apartado 2 - Actividad Vulnerabilidad de datos de entrada. Con un m\u00e1ximo de 1 punto. Apartado 3 - Actividad de Autenticaci\u00f3n, Gesti\u00f3n de sesiones o Control de acceso. Con un m\u00e1ximo de 1 punto. Apartado 4 - Actividad sobre Errores en la Seguridad o componentes vulnerables. Con un m\u00e1ximo de 1 punto. Apartado 5 - An\u00e1lisis est\u00e1tico y din\u00e1mico de aplicaci\u00f3n web. Con un m\u00e1ximo de 4 puntos. Documentaci\u00f3n : presentaci\u00f3n, extensi\u00f3n, exactitud, riqueza en s\u00edntaxis de MarkDown, etc de la documentaci\u00f3n del repostorio. Con un m\u00e1ximo de 2 puntos. Para superar la tarea habr\u00e1 que conseguir una puntuaci\u00f3n igual o superior a 5.","title":"Calificaci\u00f3n de la tarea"}]}